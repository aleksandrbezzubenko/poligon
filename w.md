# Отчет

## Цель работы

Изучение идеологии man-pages

## Теоретическая чать

man-pages - это целая библиотека в системе Linux, содержащая руководства по командам, утилитам, программированию и другим областям системы и не только.

### man

Для отображения справочных страниц служит команда `man`. Для удобства навигации, все man-страницы соответствуют единому формату. Список разделов, которые часто используются на страницах.

- NAME - имя команды и краткое однострочное описание ее назначения.
- SYNOPSIS - список опций и аргументов командной строки, которые принимает команда, либо параметры функции и ее заголовочный файл.
- DESCRIPTION - более подробное описание назначения и принципов работы команды или функции.
- EXAMPLES - типовые примеры использования, обычно от самых простых к более сложным
- OPTIONS - описания для каждой из опций, которые принимает команда.
- EXIT STATUS - коды возврата и их значения.
- FILES - связанные с командой или функцией файлы.
- BUGS - вероятные проблемы, связанные с работой команды или функции и ожидающие решения. Также известны как *KNOWN BUGS*.
- SEE ALSO - список связанных команд и функций.
- AUTHOR, HISTORY, COPYRIGHT, LICENSE, WARRANTY - информация о программе: ее история, условия использования, создатели программы.

```
SYNOPSIS
man [man options] [[section] page ...] ...
man -k [apropos options] regexp ...
man -K [man options] [section] term ...
man -k [apropos tilvalg] regexp ...
man -l [man options] file ...
man -w|-W [man options] page ..
```

### chmod

chmod - команда, которая позволяет изменять права доступа файла или каталога.

```
SYNOPSIS
chmod [OPTION]... MODE[,MODE]... FILE...
chmod [OPTION]... OCTAL-MODE FILE...
chmod [OPTION]... --reference=RFILE FILE...
```

```
MODE
r - read
w - write
x -execute
```

Согласно man-pages `chmod` изменяет права доступа каждого указанного файла в соответствии с правами доступа, указанными в параметре *режим*, который может быть представлен как в символьном виде, так и в виде восьмеричного числа, представляющего битовую маску новых прав доступа.

### chown

chown - команда, которая позволять изменять владельца и/или группу для указанных файлов.

```
SYNOPSIS
chown [OPTION]... [OWNER][:[GROUP]] FILE...
chown [OPTION]... --reference=RFILE FILE...
```

- Если указан только владелец (имя пользователя или числовой идентификатор пользователя), этот пользователь становится владельцем каждого данного файла, а группа файлов не изменяется.
- Если за владельцем следует двоеточие и имя группы (или числовой идентификатор группы) без пробелов между ними, то групповое владение файлами также изменяется.
- Если после имени пользователя следует двоеточие, но не имя группы, этот пользователь становится владельцем файлов, а группа файлов изменяется на группу входа этого пользователя.
- Если даны двоеточие и группа, но не указан владелец, изменяется только группа файлов.
- Если задано только двоеточие или весь операнд пуст, ни владелец, ни группа не меняются.

Поля `OWNER` и `GROUP` могут быть как числовыми, так и символическими.

### fstab

Файл fstab содержит информацию о различных файловых системах и устройствах хранения информации в компьютере. Это один файл, определяющий, как диск и/или раздел будут использоваться и как будут встроены в остальную систему.

### proc

proc - это виртуальная файловая система, содержащая информацию о системных ресурсах, включая запущенные в данный момент процессы, ядро ​​и оборудование. Изменение файлов позволяет нам управлять ядром во время выполнения.

```
SYNOPSIS
proc name args body
```

#### signal

signal () устанавливает расположение сигнала сигнала для обработчика, который является либо SIG_IGN, SIG_DFL, либо адресом функции, определенной программистом («обработчик сигнала»).

```c
#include <signal.h>

typedef void (*sighandler_t)(int);

sighandler_t signal(int signum, sighandler_t handler);
```

#### sh

Утилита sh - это интерпретатор командного языка, который должен выполнять команды, считанные из строки командной строки, стандартного ввода или указанного файла.

```shell
sh [-abCefhimnuvx] [-o option]... [+abCefhimnuvx] [+o option]...
    [command_file [argument...]]

sh -c [-abCefhimnuvx] [-o option]... [+abCefhimnuvx] [+o option]...
    command_string [command_name [argument...]]

sh -s [-abCefhimnuvx] [-o option]... [+abCefhimnuvx] [+o option]...
    [argument...]
```

## Практическая часть

### stdio

Заголовочный файл стандартной библиотеки языка Си, содержащий определения макросов, константы и объявления функций и типов, используемых для различных операций стандартного ввода и вывода.

### stdin/stdout/stderr

Это стандартные потоки для ввода, вывода и вывода ошибок. По умолчанию стандартный ввод — чтение с клавиатуры, в то время как стандартный вывод и стандартный вывод ошибок печатаются на экране. Следующие указатели потока доступны для получения стандартных потоков:

- stdin - стандартный ввод
- stdout - стандартный выходные данные
- stderr - стандартная ошибка

Пример использования:

```cpp
#include <cstdio>
int main ()
{
    FILE * f;
    f = fopen("../hello.txt","w");
    if (f != NULL) {
        fputs("Hello, world",f);
        fclose (f);
    }
    return 0;
}

```

![stdio](/uploads/fcea30d0e2a798473de01f19bb6e9a4a/stdio.png)

Результат выполнения:

![stdio_res](/uploads/5c0416628f45d3be790fac84ae99d974/stdio_res.png)

### pipe

Создает два файловых дескриптора: для записи и для чтения. Если закрыть дескрипторы, ссылающиеся на него, то канал уничтожится.

### dup

Функция dup возвращает новый дескриптор файла, который полностью описывает (т.е. дублирует) состояние файла, связанного с handle. В случае успеха возвращается неотрицательная величина, а в противном случае —1.

Пример использования:

```cpp
#include <stdio.h>
#include <unistd.h>
#include <fcntl.h>

int main()
{
    int fDesc = open("../1.txt", O_WRONLY | O_APPEND);
    int cfDesc = dup(fDesc);
    write(cfDesc, "Hello,\n", 7);
    write(fDesc, "world\n", 5);
    return 0;
}

```

![dup](/uploads/b18c8cabccf376fa60c3b7c3b0373677/dup.png)

Результат выполнения:

![dup_res](/uploads/b1262ca09234d3a73e124b2aed9cf763/dup_res.png)

### fork

fork создает процесс-потомок-двойник, который отличается от родительского только значениями PID (идентификатор процесса) и PPID (идентификатор родительского процесса).

Пример использования:

```cpp
#include <stdio.h>
#include <sys/types.h>
#include <unistd.h>
int main()
{
    fork();
  
    printf("Hello, world!\n");
    return 0;
}
```

![fork](/uploads/6fd0eccc57f2eee482d3d084cbcdb9a0/fork.png)

Результат выполнения:

![fork_res](/uploads/f8ab87bf7b16422dc4f76e4a65f9769f/fork_res.png)

### exec

Функция exec() загружает и запускает другую программу. Новая программа полностью замещает текущий процесс. Новая программа начинает свое выполнение с функции main. Все файлы вызывающей программы остаются открытыми. Они также являются доступными новой программе

Вызов exec происходит таким образом, что переданная в качестве аргумента программа загружается в память вместо старой, которая вызвала exec

## Выводы

В ходе выполнения лабораторной работы была изучена идеология man-pages.
